# Daily Report Manager

## 概要

本アプリケーションは、Go言語のTUI (Text User Interface) フレームワークであるBubble Teaを使用して開発された日報管理ツールです。ユーザーはターミナル上で日報の作成、一覧表示、編集を行うことができます。

## 機能一覧

- 日報の一覧表示: 既存の日報を日付順に表示します。
- 日報の選択と移動: カーソルキー (`↑`/`k`, `↓`/`j`) で日報を選択できます。
- 日報の詳細表示/編集: 選択した日報の内容を詳細表示し、編集できます (`Enter`/`l` キー)。
- 日報の保存: 編集中の日報を保存します (`Ctrl+S` キー)。
- 日報編集のキャンセル: 編集を破棄して一覧画面に戻ります (`Esc` キー)。
- アプリケーションの終了: `Ctrl+C` または `Q` キーでアプリケーションを終了します。

## 技術スタック

- 言語: Go
- TUIフレームワーク: Bubble Tea
- UIスタイリング: Lipgloss
- テキスト入力: Bubbles Textarea

## アーキテクチャ

本アプリケーションは、Bubble TeaのModel-Update-View (M-U-V) アーキテクチャパターンに従って構築されています。

- **Model (`ui/model.go`)**: アプリケーションの状態（日報データ、現在のビュー、カーソル位置、UIサイズなど）を保持します。
- **Update (`ui/update.go`)**: ユーザーからの入力（キーイベント、ウィンドウサイズ変更など）を処理し、Modelの状態を更新します。
- **View (`ui/view.go`)**: 現在のModelの状態に基づいて、ターミナルに表示するUIをレンダリングします。

## データ構造

日報データは `models/report.go` で定義されている `Report` 構造体によって表現されます。

```go
type Report struct {
  ID      int
  Content string
  Date    time.Time
}
```

- `ID`: 日報の一意な識別子。
- `Content`: 日報の本文（文字列）。
- `Date`: 日報が作成または更新された日付と時刻。

**注**: 現在、日報データはアプリケーションのメモリ上にのみ保持されており、永続化機能は実装されていません。アプリケーションを終了するとデータは失われます。

## 画面遷移と操作

### 1. 一覧表示画面 (ListView)

日報の一覧が表示される初期画面です。

- **表示内容**:
  - ヘッダー: "📝 Daily Report Manager"
  - 日報リスト: 日付と時刻 (`MM/DD HH:MM` 形式) が表示され、選択中の日報は `▶` で示されます。
  - ヘルプ: 利用可能なキー操作 (`Enter`, `N`, `Q`, `↑↓`) が表示されます。
- **操作**:
  - `↑`/`k`: カーソルを上に移動
  - `↓`/`j`: カーソルを下に移動
  - `Enter`/`l`: 選択中の日報の詳細表示/編集画面へ遷移
  - `Q`/`Ctrl+C`: アプリケーションを終了

### 2. 編集表示画面 (EditView)

日報の作成または編集を行う画面です。

- **表示内容**:
  - ヘッダー: "✏️ Edit Daily Report" (編集時) または "➕ Create New Daily Report" (新規作成時)
  - 内容入力エリア: 日報の本文を入力するテキストエリア (`textarea.Model`)
  - ヘルプ: 利用可能なキー操作 (`Ctrl+S`, `Esc`) が表示されます。
- **操作**:
  - テキスト入力: 通常のキー入力で内容を入力
  - `Ctrl+S`: 入力内容を保存し、一覧表示画面へ戻る
  - `Esc`: 編集をキャンセルし、一覧表示画面へ戻る（入力内容は破棄される）

## UI/UX

- **スタイリング**: `zan/styles` パッケージと `github.com/charmbracelet/lipgloss` を使用して、ヘッダー、リストアイテム、ボタンなどのUI要素に色や装飾が適用されています。
- **レスポンシブデザイン**: `tea.WindowSizeMsg` を処理することで、ターミナルウィンドウのサイズ変更にUIが適応します。

## 実行方法

1. Go言語がインストールされていることを確認してください。
2. プロジェクトのルートディレクトリに移動します。
3. 以下のコマンドを実行します。

```bash
go run main.go

## 作者

kissy24
